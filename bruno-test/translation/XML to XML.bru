meta {
  name: XML to XML
  type: http
  seq: 4
}

post {
  url: {{host}}/pig-latin
  body: xml
  auth: none
}

headers {
  Content-Type: application/xml
  Accept: application/xml
}

body:json {
  {
    "sentence": "Yellow Submarine"
  }
}

body:text {
  Yellow Submarine
}

body:xml {
  <TranslationRequest>
    <sentence>
      Yellow Submarine
    </sentence>
  </TranslationRequest>

}

assert {
  res.status: eq 200
  ~res.body: contains ellowyay ubmarinesay
}

tests {
  const { xml2js } = require('xml2js');

  test("should return error message", function() {
    xml2js.parseString(res.getBody(), function (err, result) {
      expect(err).to.be.null;
      expect(result.TranslationResponse.sentence[0]).to.equal('ellowyay ubmarinesay');
    });
  });
}

docs {
  Translate English sentence to Pig Latin
}
